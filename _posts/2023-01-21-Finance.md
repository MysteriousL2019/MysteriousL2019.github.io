---
title: QF Introduction
author: Fangzheng
date: 2023-01-20 8:10:00 +0800
categories: [Finance  Quantitative]
tags: [algorithm ]
# pin: true
mermaid: true  #code模块
# comments: true
math: true
# img_cdn: https://github.com/MysteriousL2019/mysteriousl2019.github.io/tree/master/assets/img/
---

# 量化投资的基本概念
* 量化投资是一种基于数学和统计学原理的投资策略。它使用大量数据和算法来预测市场走势，并进行交易。量化投资分为两种类型：高频交易和组合管理。高频交易是使用计算机程序来进行高速交易的技术，而组合管理则是使用数学模型来管理投资组合的策略。
# 金融数据
* 金融数据是量化投资的基础，包括股票价格，指数，基金等。在量化投资中，通常使用历史数据进行回测和验证策略，也可以使用实时数据进行交易。金融数据可以从各种来源获取，如股票交易所，金融机构，第三方数据提供商等。需要注意的是，金融数据可能存在缺陷，需要进行清洗和预处理，才能用于分析和交易。

# 高频交易
* 频交易(High-Frequency Trading, HFT)是一种使用计算机程序来进行高速交易的技术。高频交易程序通过快速分析市场数据，并在市场价格变动时迅速做出交易决策。高频交易程序可以在毫秒内执行交易，并且可以在市场中进行大量交易。例如，一家高频交易公司可能会监控股票市场中某只股票的价格。当该股票的价格下跌时，高频交易程序会立即检测到这种变化并自动执行买入操作。当价格上升时，程序会自动执行卖出操作。这种技术可以帮助公司在市场波动中获得利润。
* 需要注意的是，高频交易是一种高风险的投资策略，因为它依赖于高速交易程序的正确性和市场数据的准确性。如果程序出现错误或者数据出现问题，高频交易公司可能会损失巨大。此外,高频交易也受到监管限制，需要遵循规则和限制来确保市场公平性。
# 组合管理
* 组合管理(Portfolio Management)是一种使用数学模型来管理投资组合的策略。它使用数学模型来分析市场走势，并且根据模型预测来进行投资决策。组合管理包括基金组合管理和对冲基金组合管理。

* 基金组合管理是通过投资多种资产来管理投资组合的策略。例如，一个基金组合可能包括股票，债券，商品等多种资产。基金组合管理人员会使用数学模型来预测市场走势，并且根据预测来进行投资决策。

* 对冲基金组合管理是通过投资多种资产来降低投资组合的风险的策略。例如，一个对冲基金组合可能包括股票，债券，期货等多种资产。对冲基金组合管理人员会使用数学模型来预测市场走势，并且根据预测来进行投资决策。对冲基金组合管理的目的是尽量降低投资组合的风险，使投资组合的收益与市场的波动相对独立。

* 组合管理可以通过多种方式来进行，包括基于资产配置和基于风险管理。资产配置是指在不同类型的资产之间进行配置来实现最优收益。风险管理是指通过对投资组合中的资产进行控制来降低投资组合的风险。

* 组合管理需要具备较强的金融知识和数学模型的技能, 并且需要对市场数据和经济数据进行研究和分析，才能有效运用。

# 基础概念
* 期权策略call spread
* * 一只股票的现价是$150。我们买入一张行权价为$145的看涨期权，期权价格为$8.8，再卖一张行权价为$155的看涨期权，期权价格为$3.99

* * 到这里，我们付出了$8.8的权利金，并收取了$3.99的权利金，两者相减，得到$8.8-$3.99=$4.81，这个4.81就是我们做这个期权组合所付出的成本。

* * 随着股价波动，我们来计算一下最大损失和最大利润；

* * 最大损失：当股价运行到$145以下时，行权价为$145的看涨期权作废，价值为0；收取的行权价为$155的看涨期权权利金稳稳到手，于是最大损失就是我们为这个期权组合付出的成本$4.81，因为期权是100张为一个单位，$4.81*100=$481。

* * 最大利润：当股价运行到$155以上时，行权价为$145的看涨期权可以行权啦，但是卖出的行权价为$155的看涨期权也会被行权，于是—

* * 如果现在的股价为P，行权价为$145的看涨期权赚到100*（P-145） 权价为$155的看涨期权损失100*(155-P)本来付出的成本为$481最后的利润为：100*（P-145）-100*(P-155)-$481=$519 
# Black-Scholes Option pricing model
* 七个重要假设
* * 股票价格服从[对数正态分布](https://zh.wikipedia.org/wiki/%E5%AF%B9%E6%95%B0%E6%AD%A3%E6%80%81%E5%88%86%E5%B8%83), $lnX - N(\mu , \sigma^2)$
* * 在期权有效期内，[无风险利率](https://zh.wikipedia.org/wiki/%E6%97%A0%E9%A3%8E%E9%99%A9%E5%88%A9%E7%8E%87)和[金融资产收益变量]是恒定的
* * 市场无摩擦，即不存在[税收](https://wiki.mbalib.com/wiki/%E7%A8%8E%E6%94%B6)和[交易成本](https://wiki.mbalib.com/wiki/%E4%BA%A4%E6%98%93%E6%88%90%E6%9C%AC)，所有证券完全可分割；
* * 金融资产在期权有效期内无[红利](https://wiki.mbalib.com/wiki/%E7%BA%A2%E5%88%A9)及其它所得（该假设后被放弃)；
* * 该期权是欧式期权，即在期权到期前不可实施。
* * 不存在[无风险套利](https://wiki.mbalib.com/wiki/%E6%97%A0%E9%A3%8E%E9%99%A9%E5%A5%97%E5%88%A9)机会；
* * 证券交易是持续的；
* * 投资者能够以无风险利率借货。
### 推导
* 经验公式: 期权价格C与股票价格S，标准差 $\sigma$ 满足，$\frac{C}{S}=0.5\sigma$
* 剩余时间T, 行权价格K, 期末股价$S_T=(S(1+\sigma)*0.5+S(1-\sigma)*0.5)$,期权期末价格$C_T$符合$C_T=S_T-K$，当$S_T>K$，当$S_T>K,概率为0.5, C_T=0, $, 当$S_T$小于K,概率为0.5，$C_T=0$
* 所以期末价格$C_T$的期望是 $ 0.5*(S(1-\sigma)-K)+0.5*0=0.5(S-K)+0.5S \sigma$
    * * (行权价格（Exercise Price），也称为行使价格或执行价格，是期权合约中规定的买卖标的资产的价格。如果是买入看涨期权合约，那么行使的就是"买权"，在合约期内任意时间，你都可以按照一个价格买入标的资产，如果市价高于这个价，我马上按照行权价买入，然后按照市价卖出获利(是这么个意思，不需要真的买入再卖)，如果市价低于这个价，那放弃权益就可以了，这样就形成了期权的特性，涨了平仓赚钱，跌了就不行使权益(不要了就不会亏)。如果是买入看跌期权合约，那么行使的就是"卖权",在合约期内任意时间，你都可以按照一个价格卖出标的资产，如果市价低于这个价，我马上按照市价买入，然后按照行权价卖出获利(平仓即可,不需要真的执行这个操作),如果市价高于这个价格，放弃合约即可。如果在期权到期时，标的资产的价格高于行权价格，则买方可以行使其期权权利，从而获得盈利；如果标的资产的价格低于行权价格，则买方通常会选择不行使期权，因为在市场上以更低的价格购买或出售资产会更划算。)
* 基础公式: $S = S_0e^{\mu t}$假设股票资产符合几何布朗运动，$\mu$是资产的期望收益率，表示资产的平均增长率，以及时间反演方程表示未来某一时刻现金流在此时的价值 $S_0=Se^{-\mu t}$, 
* * 连续复利的微分形式 $\frac{ds}{s} = \mu dt$ ==> $\int \frac{ds}{s} = \int \mu dt$ ==> $lnS = \mu t +C$ ==> $S= S_0e^{\mu t}$
* * 加入布朗运动
    * * $\frac{ds}{s} = \mu dt+\sigma dB$
    * * 利用泰勒展开( $df(x) = f(x+\bigtriangleup x)-f(x)=f^{'}(x)dx+\frac{1}{2}f^{''}(x)(dx)^2 $) ==> $d(lnS) =\frac{1}{S}+\frac{1}{2}(-1)S^{-2}(dS)^2=\frac{1}{S}dS-\frac{1}{S^2}(dS)^2$
* 布朗运动为人们研究股票价格提供了基础。然而，对于金融衍生品，它们的价格是股票价格的函数。令 $f(B_t)$为布朗运动 $B_t$的连续平滑函数，要研究df的性质，但布朗运动不可微，使用伊藤积分解决.
    * * 若使用传统微分 $ df = (\frac{dB_t}{dt}f^{'}(B_t))dt$，由于布朗运动 $B_t$不可微， $\frac{dB_t}{dt}$ 处处不存在；那么我们能不能绕过 $\frac{dB_t}{dt}$  , 仅仅使用 $dB_t$, 它表示布朗运动在一个无穷小的时间间隔内的变化。因此我们有：$df = f^{'}(B_t)dB_t$， 但由于布朗运动的二次变分非0，因此此式不成立，$ \bigtriangleup f = f^{'}(B_t)(\bigtriangleup B_t)+\frac{f^{''}(B_t)}{2}(\bigtriangleup B_t )^2+\frac{f^{'''}(B_t)}{6}(\bigtriangleup B_t)^3$ ,因此 伊藤引理（Itō’s lemma）的最基本形式：
    * *  $ d f(B_t) = f^{'}(B_t)(\bigtriangleup B_t)+\frac{f^{''}(B_t)}{2}(\bigtriangleup B_t )^2$


    ### References
    * [课程总结 对伊藤微分公式和Black-Scholes公式的理解](https://www.jianshu.com/p/f28c1f739c98)
    * [BS model](https://zhuanlan.zhihu.com/p/38293827)
    * https://wiki.mbalib.com/wiki/Black-Scholes%E6%9C%9F%E6%9D%83%E5%AE%9A%E4%BB%B7%E6%A8%A1%E5%9E%8B
    * https://zhuanlan.zhihu.com/p/325901614
    * [直观理解](https://zhuanlan.zhihu.com/p/339782108)
    